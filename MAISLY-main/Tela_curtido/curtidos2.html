<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAISLY</title>
    <link rel="stylesheet" href="curtidos2.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body theme = "light">
    <header>
        <div id="parte1">
            <a href="../Tela_inicio/inicio.html">
                <img src="../imagem/logo.png" height="50" width="180">
            </a>
            <div id="icones">
                <input id="pesquisar" type="text" placeholder="Pesquisar">
                <button class="botaotype especial">
                    <img src="../imagem/coracao.png">
                </button>
                <button class="botaotype" onclick="abrirCarrinho()">
                    <img src="../imagem/carrinho.png">
                </button>
                <a href="../Tela_perfil/perfil.html">
                    <button class="botaotype">
                        <img src="../imagem/pessoalogin.png">
                    </button>
                </a>
            </div>
        </div>
        <div id="parte2"> 
            <button onclick="openMenu()" class="sidebar-icon">
                <i id="icon" class="bi bi-list"></i>
                <span>Menu</span>
            </button>
            <div class="menu-temas">
                <p class="p"> <img src="../imagem/ferramenta.png" id="iconestl"> Temas</p>
                <div class="temas"> 
                <p id="light">Light</p>
                <p id="dark">Dark</p>
                <p id="baixa">Baixa visão</p>
                </div>
            </div>
        <p class="p" id="a">  <img src="../imagem/acesibili.png" id="iconestl">Acessibilidade</p>
        <p class="p-a"> <img src="../imagem/ajudasemfundo.png" id="iconestl"> Ajuda </p>
        </div>
    </header>

    <nav id="menutenis">
        <div class="menu">
            <a href="../Tela_produto01/produto1.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis0.jpeg" alt="">
                    <p>Promoções</p>
                </div>
            </a>
            <a href="../Tela_produto02/produto2.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis1.jpeg" alt="">
                    <p>Masculino</p>
                </div>
            </a>
            <a href="../Tela_produto03/produto3.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis2.jpeg" alt="">
                    <p>Feminino</p>
                </div>
            </a>
            <a href="../Tela_produto04/produto4.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis3.jpeg" alt="">
                    <p>Infantil</p>
                </div>
            </a>
            <a href="../Tela_produto05/produto5.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis4.jpeg" alt="">
                    <p>Social</p>
                </div>
            </a>
            <a href="../Tela_produto06/produto6.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis5.jpeg" alt="">
                    <p>Casual</p>
                </div>
            </a>
            <a href="../Tela_produto07/produto7.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis6.jpeg" alt="">
                    <p>Esportivo</p>
                </div>
            </a>
            <a href="../Tela_produto08/produto8.html"id="block">
                <div id="navtenis">
                    <img src="../imagem/tenis7.jpeg" alt="">
                    <p>Sneaker</p>
                </div>
            </a>
        </div>
        <div class="sidebar">
            <a href="../Tela_produto01/produto1.html"><p>Promoções</p></a>
            <a href="../Tela_produto02/produto2.html"><p>Masculino</p></a>
            <a href="../Tela_produto03/produto3.html"><p>Feminino</p></a>
            <a href="../Tela_produto04/produto4.html"><p>Infantil</p></a>
            <a href="../Tela_produto05/produto5.html"><p>Social</p></a>
            <a href="../Tela_produto06/produto6.html"><p>Casual</p></a>
            <a href="../Tela_produto07/produto7.html"><p>Esportivo</p></a>
            <a href="../Tela_produto08/produto8.html"><p>Sneaker</p></a>
        </div>
    </nav>
<div id="menucompra">
    <main id="container">
        <section id="tudo" class="lista-curtidos">

        </section>
    </main>

    <script>
        const listaCurtidos = JSON.parse(localStorage.getItem('curtido')) || [];
        const container = document.querySelector('.lista-curtidos');

        if (listaCurtidos.length === 0) {
            window.location.href = '../Tela_curtidovazio/curtidovazio.html';
        }

        listaCurtidos.forEach((produto, index) => {
            const item = document.createElement('section');
            item.classList.add('tudo');

            item.innerHTML = `
                <article id="itens">
                    <div id="tenisimg">
                        <img src="${produto.img || '../imagem/tenis0.jpeg'}">
                    </div>

                    <div id="textall">
                        <h3 id="textonome">${produto.nome}</h3>
                        <h3>Preço: <span id="corverde">R$ ${produto.preco.toFixed(2)}</span></h3>
                    </div>
                </article>

                <div id="botcompra">
                    <button id="botao" onclick="moverParaCarrinho(${index})">
                        <img src="../imagem/adicionarcarrinho.png" id="iconestl">
                        Adicionar ao carrinho
                    </button>

                    <button id="botao" onclick="removerCurtido(${index})">
                        Remover
                    </button>
                </div>
            `;
            container.appendChild(item);
        });

        // remove dos curtidos
        function removerCurtido(index) {
            listaCurtidos.splice(index, 1);
            localStorage.setItem('curtido', JSON.stringify(listaCurtidos));
            location.reload();
        }

        // move para o carrinho
        function moverParaCarrinho(index) {
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            const produto = listaCurtidos[index];

            carrinho.push({
                id: produto.id || produto.nome,
                nome: produto.nome,
                preco: produto.preco,
                img: produto.img || '../imagem/tenis0.jpeg',
                qtd: 1,
                tamanho: produto.tamanho || 37
            });

            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            alert('Produto adicionado ao carrinho');
        }

        function abrirCarrinho() {
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];

            if (carrinho.length > 0) {
                window.location.href = '../Tela_carrinho/carrinho.html';
            } else {
                window.location.href = '../Tela_carrinhovazio/carrinhovazio.html';
            }
        }
        </script>
</html>

