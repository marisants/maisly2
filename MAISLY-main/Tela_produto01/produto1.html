<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAISLY</title>
    <link rel="stylesheet" href="produto1.css">
</head>
<body theme = light>
    <header>
        <div id="parte1">
            <a href="../Tela_inicio/inicio.html">
                <img src="../imagem/logo.png" height="50" width="180">
            </a>
            <div id="icones">
                <input id="pesquisar" type="text" placeholder="Pesquisar" >

                <button class="botaotype" onclick="abrirCurtido()">
                    <img src="../imagem/coracao.png"  >
                </button>
                <button  class="botaotype especial" onclick="abrirCarrinho()">
                    <img src="../imagem/carrinho.png" class="botao_especial">
                </button>
                <a href="../Tela_perfil/perfil.html">
                    <button class="botaotype">
                        <img src="../imagem/pessoalogin.png">
                    </button>
                </a>
            </div>
        </div>
        <div id="parte2">
        <div class="menu-temas">
                <p class="p"> <img src="../imagem/ferramenta.png" id="iconestl"> Temas</p>
                <div class="temas"> 
                <p id="light">Light</p>
                <p id="dark">Dark</p>
                <p id="baixa">Baixa visão</p>
                </div>
            </div>
        <p class="p">  <img src="../imagem/acesibili.png" id="iconestl">Acessibilidade</p>

        <a href="../tela_ajuda/tela_ajuda.html" class="p">
            <img src="../imagem/ajudasemfundo.png" id="iconestl">
            Ajuda
        </a>

        </div>
    </header>
    <nav id="menutenis">
        <a href="../Tela_produto01/produto1.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis0.jpeg" alt="">
                  <div id="selecionado"><p>Promoções</p></div>
            </div>
        </a>
        <a href="../Tela_produto02/produto2.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis1.jpeg" alt="">
                <p>Masculino</p>
            </div>
        </a>
        <a href="../Tela_produto03/produto3.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis2.jpeg" alt="">
                <p>Feminino</p>
            </div>
        </a>
        <a href="../Tela_produto04/produto4.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis3.jpeg" alt="">
                <p>Infantil</p>
            </div>
        </a>
        <a href="../Tela_produto05/produto5.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis4.jpeg" alt="">
                <p>Social</p>
            </div>
        </a>
        <a href="../Tela_produto06/produto6.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis5.jpeg" alt="">
                <p>Casual</p>
            </div>
        </a>
        <a href="../Tela_produto07/produto7.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis6.jpeg" alt="">
                <p>Esportivo</p>
            </div>
        </a>
        <a href="../Tela_produto08/produto8.html"id="block">
            <div id="navtenis">
                <img src="../imagem/tenis7.jpeg" alt="">
                <p>Sneaker</p>
            </div>
        </a>
    </nav>


    <div id = central_p>
        <div id = central_1>
            <div class="imagensdecima">
                <img src="../imagem/tenis_wemylly_1.png" alt="" class="tenis"> 
                <div class="icones-valor">
                    <button onclick="adicionarAoCarrinho('court-vision','Tênis Nike Court Vision Low Next',379.99,'../imagem/tenis_wemylly_1.png')"class="btn-icon">
                        <img src="../imagem/carrinho.png" alt="Adicionar ao carrinho">
                    </button>

                    <button onclick="adicionarAoCurtido('court-vision','Tênis Nike Court Vision Low Next',379.99,'../imagem/tenis_wemylly_1.png',37)"class="btn-icon">
                        <img src="../imagem/coracao.png" alt="Curtir produto">
                    </button>
                </div>
            </div>
            <p>Tênis Nike Court Vision Low Next  </p>
            <div id = ngc_la_1 >
                <p>Valor:</p>
                <p class="um">R$ 379,99  - 15%</p>
            </div>
            <div class="pa_0">
                <div class="tamanhos">
                    <button onclick="selecionarTamanho(this, 37)">37</button>
                    <button onclick="selecionarTamanho(this, 38)">38</button>
                    <button onclick="selecionarTamanho(this, 39)">39</button>
                    <button onclick="selecionarTamanho(this, 40)">40</button>
                </div>
                <div class="tamanhos">
                    <button onclick="selecionarTamanho(this, 41)">41</button>
                    <button onclick="selecionarTamanho(this, 42)">42</button>
                    <button onclick="selecionarTamanho(this, 43)">43</button>
                    <button onclick="selecionarTamanho(this, 44)">44</button>
                </div>
            </div>
        </div>
       
        <div id = central_2>
            <div class="imagensdecima">
                <img src="../imagem/tenis_wemylly_2.png" alt="" class="tenis">  
                <div class="icones-valor">
                    <button onclick="adicionarAoCarrinho('air-force','Tênis Nike Air Force 1',499.99,'../imagem/tenis_wemylly_2.png',38)"class="btn-icon">
                        <img src="../imagem/carrinho.png" alt="Adicionar ao carrinho">
                    </button>

                    <button onclick="adicionarAoCurtido('air-force','Tênis Nike Air Force 1',499.99,'../imagem/tenis_wemylly_2.png',38)" class="btn-icon">
                        <img src="../imagem/coracao.png" alt="Curtir produto">
                    </button>
                </div>
            </div>
            <p>Tênis Nike Metcon 9 </p>
            <div id = ngc_la_2 >
               <p>Valor:</p>
               <p class="dois">R$ 1159,99 - 54%</p>
            </div>
            <div class="pa_0">
                <div class="tamanhos">
                    <button onclick="selecionarTamanho(this, 37)">37</button>
                    <button onclick="selecionarTamanho(this, 38)">38</button>
                    <button onclick="selecionarTamanho(this, 39)">39</button>
                    <button onclick="selecionarTamanho(this, 40)">40</button>
                </div>
                <div class="tamanhos">
                    <button onclick="selecionarTamanho(this, 41)">41</button>
                    <button onclick="selecionarTamanho(this, 42)">42</button>
                    <button onclick="selecionarTamanho(this, 43)">43</button>
                    <button onclick="selecionarTamanho(this, 44)">44</button>
                </div>
            </div>
        </div>

        <div id = central_3>
            <div class="imagensdecima">
                <img src="../imagem/tenis_wemylly_3.png" alt="" class="tenis">  
                <div class="icones-valor">
                    <button onclick="adicionarAoCarrinho('jordan-low','Tênis Air Jordan Low',699.99,'../imagem/tenis_wemylly_3.png',39)" class="btn-icon">
                        <img src="../imagem/carrinho.png" alt="Adicionar ao carrinho">
                    </button>

                    <button onclick="adicionarAoCurtido('jordan-low','Tênis Air Jordan Low',699.99,'../imagem/tenis_wemylly_3.png',39)" class="btn-icon">
                        <img src="../imagem/coracao.png" alt="Curtir produto">
                    </button>
                </div>
            </div>
            <p>Tênis Nike Air Max Impact 4 </p>
            <div id = ngc_la_3 >
                <p>Valor:</p>
                <p class="tres">R$ R$ 799,99 - 54% </p>
            </div>
            <div class="pa_0">
                <div class="tamanhos">
                    <button onclick="selecionarTamanho(this, 37)">37</button>
                    <button onclick="selecionarTamanho(this, 38)">38</button>
                    <button onclick="selecionarTamanho(this, 39)">39</button>
                    <button onclick="selecionarTamanho(this, 40)">40</button>
                </div>
                <div class="tamanhos">
                    <button onclick="selecionarTamanho(this, 41)">41</button>
                    <button onclick="selecionarTamanho(this, 42)">42</button>
                    <button onclick="selecionarTamanho(this, 43)">43</button>
                    <button onclick="selecionarTamanho(this, 44)">44</button>
                </div>
            </div>
        </div>
               
    </div>
    <script>
        // Aplica o tema
        const temaSalvo = localStorage.getItem('tema');
        if (temaSalvo) {
            document.body.setAttribute('theme', temaSalvo);
        }
    
        function aplicarTema(tema) {
            document.body.setAttribute('theme', tema);
            localStorage.setItem('tema', tema);
        }

        document.getElementById('dark').addEventListener('click', () => aplicarTema('dark'));
        document.getElementById('light').addEventListener('click', () => aplicarTema('light'));
        document.getElementById('baixa').addEventListener('click', () => aplicarTema('baixa'));

        // função do carrinho
        function adicionarAoCarrinho(id, nome, preco, img) {
            if(!tamanhoSelecionado){
                alert("Selecione um tamanho primeiro!");
                return;
            }
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            const existente = carrinho.find(
                p => p.id === id && p.tamanho === tamanhoSelecionado
            );
            if (existente) {
                existente.qtd++;
            } else {
                carrinho.push({
                    id,
                    nome,
                    preco,
                    img,
                    qtd: 1,
                    tamanho: tamanhoSelecionado
                });
            }
            localStorage.setItem('carrinho', JSON.stringify(carrinho));
            alert("Produto adicionado ao carrinho");
        }
        
        // função dos curtidos
        function adicionarAoCurtido(id, nome, preco, img) {

            if(!tamanhoSelecionado){
                alert("Selecione um tamanho primeiro!");
                return;
            }

            let curtidos = JSON.parse(localStorage.getItem('curtido')) || [];

            const jaExiste = curtidos.some(
                p => p.id === id && p.tamanho === tamanhoSelecionado
            );

            if (jaExiste) {
                alert('Esse produto já está curtido');
                return;
            }

            curtidos.push({
                id,
                nome,
                preco,
                img,
                tamanho: tamanhoSelecionado
            });

            localStorage.setItem('curtido', JSON.stringify(curtidos));
            alert('Produto adicionado aos curtidos');
        }

        let tamanhoSelecionado = null;

        //Função dos tamanhos
        function selecionarTamanho(botao, tamanho){
            document.querySelectorAll(".tamanhos button").forEach(btn => {
                btn.classList.remove("selecionado");
            });
            botao.classList.add("selecionado");
            tamanhoSelecionado = tamanho;
        }

        //Função para abrir carrinho (cheio ou vazio)
        function abrirCarrinho() {
            let carrinho = JSON.parse(localStorage.getItem('carrinho')) || [];
            if (carrinho.length > 0) {
                window.location.href = '../Tela_carrinho/carrinho.html';
            } else {
                window.location.href = '../Tela_carrinhovazio/carrinhovazio.html';
            }
        }

        // Função para abrir curtidos (cheio e vazio)
        function abrirCurtido() {
            let curtido = JSON.parse(localStorage.getItem('curtido')) || [];
            if (curtido.length > 0) {
                window.location.href = '../Tela_curtido/curtidos2.html';
            } else {
                window.location.href = '../Tela_curtidovazio/curtidovazio.html';
            }
        }
    </script>
</body>
</html>